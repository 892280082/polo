!function(t){function e(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return t[a].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(6)},function(t,e){"use strict";function n(t,e){var n=Array.prototype.slice.call(arguments),a=n.shift();switch(a){case 0:n.unshift("SERVICE_MONGOOSE_LOG---->");break;case 1:n.unshift("SERVICE_MONGOOSE_WARN---->");break;case 2:n.unshift("SERVICE_MONGOOSE_ERROR---->")}console.log.apply(console,n)}t.exports=n},function(t,e,n){"use strict";function a(t,e){var n=function(t,e){return{key:t,val:e}};t=t.replace(/-/g,".");var a=["$$_","$gt_","$gte_","$lt_","$lte_"],r=i.find(a,function(e){return t.indexOf(e)>=0});if(void 0===r)return n(t,e);if("$$_"===r)return n(t.replace(r,""),{$regex:e,$options:"i"});var o={};return o[r.replace("_","")]=e,n(t.replace(r,""),o)}var r=n(1),i=n(7);e.concactArray=function(t,e){return t.concat(e)},e.dealQuery=function(t){var e={};for(var n in t)if(!(""===t[n]||"undefined"==typeof t[n]||i.isObject(t[n])&&i.keys(t[n]).length<=0)){var r=a(n,t[n]);if(i.has(e,r.key)){var o=e[r.key];i.mapObject(r.val,function(t,e){o[e]=t})}else e[r.key]=r.val}return e},e.merge=function(t,e){for(var n in e)t[n]=e[n]},e.checkSetting=function(t){t.$service.$http||r(1,"$http \u6ca1\u6709\u8bbe\u7f6e")},e.getData=function(t,n){var a=t.$service.$http,i=t.$searchInfo,o=t.$pagingInfo,u={};e.merge(u,i.query),e.merge(u,e.dealQuery(t.$query));var s={query:u,limit:o.pageSize,skip:o.curPage-1,sort:i.sort,populate:i.populate};a.post(i.url,s).success(function(a){return a.err&&r(1,err),e.analyDate(t,a.result),n?n(a.err,a.result.docs):void 0}).error(function(t){r(2,"\u540e\u53f0\u5730\u5740\u94fe\u63a5\u5931\u8d25\uff1a"+i.url)})},e.analyDate=function(t,n){var a=t.$pagingInfo,r=a.waterfull;a.total=n.total,a.curPage=n.skip+1,a.allPage=e.juageAllPage(n.limit,n.total);t.$array;r?t.$array=e.concactArray(t.$array,n.docs):t.$array=n.docs},e.juageAllPage=function(t,e){var n=~~(e/t);return e%t?n+1:n};var o=function(t,e,n,a){t.err?(r(1,"\u540e\u53f0curd\u8bf7\u6c42\u62a5\u9519:"+t.err),a&&a(),e&&e(t.err,t.result)):(n&&n(),e&&e(t.err,t.result))};e.save=function(t,e,n){var a=n.$searchInfo.url+"Save",i=n.$service.$http;i.post(a,{savePojo:t}).success(function(t){o(t,e,function(){n.$setCurPage()})}).error(function(){r(2,"saveUrl:\u8fde\u63a5\u51fa\u9519")})},e.remove=function(t,e,n){var a=n.$searchInfo.url+"Remove",i=n.$service.$http;i.post(a,{_id:t._id}).success(function(t){o(t,e,function(){n.$setCurPage()})}).error(function(){r(2,"saveUrl:\u8fde\u63a5\u51fa\u9519")})},e.update=function(t,e,n){var a=n.$searchInfo.url+"Update",i=n.$service.$http;i.post(a,{updatePojo:t}).success(function(t){o(t,e,function(){n.$setCurPage()})}).error(function(){r(2,"saveUrl:\u8fde\u63a5\u51fa\u9519")})}},function(t,e,n){"use strict";var a,r=(n(2),n(4));t.exports=a="service_mongoose",angular.module(a,["ui.bootstrap","mongoose-pagination.html"]).service("mongoose",["$http",function(t){this.$link=function(e){return(new r).__setHttp(t).$link(e)}}]).directive("mongoosePagin",["$log",function(t){return{scope:{ngModel:"=ngModel"},templateUrl:function(t,e){return"mongoose-pagination.html"},link:function(t,e,n,a){t.$pagingInfo=t.ngModel.$pagingInfo,t.pageChanged=function(){t.ngModel.$setCurPage()}}}}]),angular.module("mongoose-pagination.html",[]).run(["$templateCache",function(t){t.put("mongoose-pagination.html",'<uib-pagination class="pagination-sm"boundary-links="true"max-size="8"ng-model="$pagingInfo.curPage"ng-change="pageChanged()"total-items="$pagingInfo.total"items-per-page="$pagingInfo.pageSize"num-pages="numPages"></uib-pagination>')}])},function(t,e,n){"use strict";var a,r=n(2);n(1);t.exports=a=function(){this.$pagingInfo={total:0,curPage:1,pageSize:20,allPage:0,waterfull:!1},this.$searchInfo={query:{},sort:null,populate:null,url:null},this.$service={$http:null},this.$array=[],this.$callback=null,this.$query={}},a.prototype.__setHttp=function(t){return this.$service.$http=t,this},a.prototype.$link=function(t){return r.checkSetting(this),this.$searchInfo.url=t,this},a.prototype.$getData=function(t,e,n){return r.checkSetting(this),this.$searchInfo.query=t,e&&r.merge(this.$searchInfo,e),n?void r.getData(this,n):this},a.prototype.limit=function(t){return this.$pagingInfo.pageSize=t,this},a.prototype.sort=function(t){return this.$searchInfo.sort=t,this},a.prototype.skip=function(t){return this.$pagingInfo.curPage=t+1,this},a.prototype.waterfull=function(t){return this.$pagingInfo.waterfull=!!t,this},a.prototype.exec=function(t){t&&(this.$callback=t),r.getData(this,t)},a.prototype.$setCurPage=function(t){t=t||this.$pagingInfo.curPage,this.skip(t-1),this.exec(this.$callback)},a.prototype.$save=function(t,e){r.save(t,e,this)},a.prototype.$remove=function(t,e){r.remove(t,e,this)},a.prototype.$update=function(t,e){r.update(t,e,this)},a.prototype.$search=function(){this.skip(0).exec(this.$callback)}},function(t,e){"use strict";angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.pagination","ui.bootstrap.paging"]),angular.module("ui.bootstrap.tpls",["uib/template/pagination/pagination.html"]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(t,e,n,a,r){function i(t,e,n){return{number:t,text:e,active:n}}function o(t,e){var n=[],a=1,r=e,o=angular.isDefined(s)&&e>s;o&&(l?(a=Math.max(t-Math.floor(s/2),1),r=a+s-1,r>e&&(r=e,a=r-s+1)):(a=(Math.ceil(t/s)-1)*s+1,r=Math.min(a+s-1,e)));for(var u=a;r>=u;u++){var f=i(u,p(u),u===t);n.push(f)}if(o&&s>0&&(!l||c||g)){if(a>1){if(!g||a>3){var h=i(a-1,"...",!1);n.unshift(h)}if(g){if(3===a){var d=i(2,"2",!1);n.unshift(d)}var v=i(1,"1",!1);n.unshift(v)}}if(e>r){if(!g||e-2>r){var $=i(r+1,"...",!1);n.push($)}if(g){if(r===e-2){var m=i(e-1,e-1,!1);n.push(m)}var y=i(e,e,!1);n.push(y)}}}return n}var u=this,s=angular.isDefined(e.maxSize)?t.$parent.$eval(e.maxSize):r.maxSize,l=angular.isDefined(e.rotate)?t.$parent.$eval(e.rotate):r.rotate,c=angular.isDefined(e.forceEllipses)?t.$parent.$eval(e.forceEllipses):r.forceEllipses,g=angular.isDefined(e.boundaryLinkNumbers)?t.$parent.$eval(e.boundaryLinkNumbers):r.boundaryLinkNumbers,p=angular.isDefined(e.pageLabel)?function(n){return t.$parent.$eval(e.pageLabel,{$page:n})}:angular.identity;t.boundaryLinks=angular.isDefined(e.boundaryLinks)?t.$parent.$eval(e.boundaryLinks):r.boundaryLinks,t.directionLinks=angular.isDefined(e.directionLinks)?t.$parent.$eval(e.directionLinks):r.directionLinks,a.create(this,t,e),e.maxSize&&u._watchers.push(t.$parent.$watch(n(e.maxSize),function(t){s=parseInt(t,10),u.render()}));var f=this.render;this.render=function(){f(),t.page>0&&t.page<=t.totalPages&&(t.pages=o(t.page,t.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(t,e){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(t,e){return e.templateUrl||"uib/template/pagination/pagination.html"},replace:!0,link:function(t,n,a,r){var i=r[0],o=r[1];o&&i.init(o,e)}}}]),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(t){return{create:function(e,n,a){e.setNumPages=a.numPages?t(a.numPages).assign:angular.noop,e.ngModelCtrl={$setViewValue:angular.noop},e._watchers=[],e.init=function(t,r){e.ngModelCtrl=t,e.config=r,t.$render=function(){e.render()},a.itemsPerPage?e._watchers.push(n.$parent.$watch(a.itemsPerPage,function(t){e.itemsPerPage=parseInt(t,10),n.totalPages=e.calculateTotalPages(),e.updatePage()})):e.itemsPerPage=r.itemsPerPage,n.$watch("totalItems",function(t,a){(angular.isDefined(t)||t!==a)&&(n.totalPages=e.calculateTotalPages(),e.updatePage())})},e.calculateTotalPages=function(){var t=e.itemsPerPage<1?1:Math.ceil(n.totalItems/e.itemsPerPage);return Math.max(t||0,1)},e.render=function(){n.page=parseInt(e.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(t,a){a&&a.preventDefault();var r=!n.ngDisabled||!a;r&&n.page!==t&&t>0&&t<=n.totalPages&&(a&&a.target&&a.target.blur(),e.ngModelCtrl.$setViewValue(t),e.ngModelCtrl.$render())},n.getText=function(t){return n[t+"Text"]||e.config[t+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},e.updatePage=function(){e.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):e.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;e._watchers.length;)e._watchers.shift()()})}}}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("uib/template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}])},function(t,e,n){"use strict";var a=n(3);n(5);var r=angular.module("myApp",[a]);r.controller("main",["$scope","mongoose","$timeout",function(t,e,n){var a;t.salonDao=a=e.$link("/back/curdSalon"),a.$getData({}).sort({creatTime:-1}).limit(5).skip(0).waterfull(!1).exec(function(t,e){console.log("doc:",e)}),t.addNewPojo=function(){a.$save({title:"newasdfsdf",qq:"56745676jk"})},t.removePojo=function(t){a.$remove(t,function(t,e){console.log("remove- -->",t,e)})},t.updateLason=function(t){t.title="\u4fee\u6539\u8fc7\u7684"+t.title,a.$update(t,function(t,e){console.log("update- -->",t,e)})},t.searchPojo=function(){a.$search()}}])},function(t,e,n){var a,r;(function(){function n(t){function e(e,n,a,r,i,o){for(;i>=0&&o>i;i+=t){var u=r?r[i]:i;a=n(a,e[u],u,e)}return a}return function(n,a,r,i){a=x(a,i,4);var o=!L(n)&&k.keys(n),u=(o||n).length,s=t>0?0:u-1;return arguments.length<3&&(r=n[o?o[s]:s],s+=t),e(n,a,r,o,s,u)}}function i(t){return function(e,n,a){n=_(n,a);for(var r=M(e),i=t>0?0:r-1;i>=0&&r>i;i+=t)if(n(e[i],i,e))return i;return-1}}function o(t,e,n){return function(a,r,i){var o=0,u=M(a);if("number"==typeof i)t>0?o=i>=0?i:Math.max(i+u,o):u=i>=0?Math.min(i+1,u):i+u+1;else if(n&&i&&u)return i=n(a,r),a[i]===r?i:-1;if(r!==r)return i=e(h.call(a,o,u),k.isNaN),i>=0?i+o:-1;for(i=t>0?o:u-1;i>=0&&u>i;i+=t)if(a[i]===r)return i;return-1}}function u(t,e){var n=N.length,a=t.constructor,r=k.isFunction(a)&&a.prototype||g,i="constructor";for(k.has(t,i)&&!k.contains(e,i)&&e.push(i);n--;)i=N[n],i in t&&t[i]!==r[i]&&!k.contains(e,i)&&e.push(i)}var s=this,l=s._,c=Array.prototype,g=Object.prototype,p=Function.prototype,f=c.push,h=c.slice,d=g.toString,v=g.hasOwnProperty,$=Array.isArray,m=Object.keys,y=p.bind,b=Object.create,P=function(){},k=function H(t){return t instanceof H?t:this instanceof H?void(this._wrapped=t):new H(t)};"undefined"!=typeof t&&t.exports&&(e=t.exports=k),e._=k,k.VERSION="1.8.3";var x=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,a){return t.call(e,n,a)};case 3:return function(n,a,r){return t.call(e,n,a,r)};case 4:return function(n,a,r,i){return t.call(e,n,a,r,i)}}return function(){return t.apply(e,arguments)}},_=function(t,e,n){return null==t?k.identity:k.isFunction(t)?x(t,e,n):k.isObject(t)?k.matcher(t):k.property(t)};k.iteratee=function(t,e){return _(t,e,1/0)};var I=function(t,e){return function(n){var a=arguments.length;if(2>a||null==n)return n;for(var r=1;a>r;r++)for(var i=arguments[r],o=t(i),u=o.length,s=0;u>s;s++){var l=o[s];e&&void 0!==n[l]||(n[l]=i[l])}return n}},w=function(t){if(!k.isObject(t))return{};if(b)return b(t);P.prototype=t;var e=new P;return P.prototype=null,e},D=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,M=D("length"),L=function(t){var e=M(t);return"number"==typeof e&&e>=0&&S>=e};k.each=k.forEach=function(t,e,n){e=x(e,n);var a,r;if(L(t))for(a=0,r=t.length;r>a;a++)e(t[a],a,t);else{var i=k.keys(t);for(a=0,r=i.length;r>a;a++)e(t[i[a]],i[a],t)}return t},k.map=k.collect=function(t,e,n){e=_(e,n);for(var a=!L(t)&&k.keys(t),r=(a||t).length,i=Array(r),o=0;r>o;o++){var u=a?a[o]:o;i[o]=e(t[u],u,t)}return i},k.reduce=k.foldl=k.inject=n(1),k.reduceRight=k.foldr=n(-1),k.find=k.detect=function(t,e,n){var a;return a=L(t)?k.findIndex(t,e,n):k.findKey(t,e,n),void 0!==a&&-1!==a?t[a]:void 0},k.filter=k.select=function(t,e,n){var a=[];return e=_(e,n),k.each(t,function(t,n,r){e(t,n,r)&&a.push(t)}),a},k.reject=function(t,e,n){return k.filter(t,k.negate(_(e)),n)},k.every=k.all=function(t,e,n){e=_(e,n);for(var a=!L(t)&&k.keys(t),r=(a||t).length,i=0;r>i;i++){var o=a?a[i]:i;if(!e(t[o],o,t))return!1}return!0},k.some=k.any=function(t,e,n){e=_(e,n);for(var a=!L(t)&&k.keys(t),r=(a||t).length,i=0;r>i;i++){var o=a?a[i]:i;if(e(t[o],o,t))return!0}return!1},k.contains=k.includes=k.include=function(t,e,n,a){return L(t)||(t=k.values(t)),("number"!=typeof n||a)&&(n=0),k.indexOf(t,e,n)>=0},k.invoke=function(t,e){var n=h.call(arguments,2),a=k.isFunction(e);return k.map(t,function(t){var r=a?e:t[e];return null==r?r:r.apply(t,n)})},k.pluck=function(t,e){return k.map(t,k.property(e))},k.where=function(t,e){return k.filter(t,k.matcher(e))},k.findWhere=function(t,e){return k.find(t,k.matcher(e))},k.max=function(t,e,n){var a,r,i=-(1/0),o=-(1/0);if(null==e&&null!=t){t=L(t)?t:k.values(t);for(var u=0,s=t.length;s>u;u++)a=t[u],a>i&&(i=a)}else e=_(e,n),k.each(t,function(t,n,a){r=e(t,n,a),(r>o||r===-(1/0)&&i===-(1/0))&&(i=t,o=r)});return i},k.min=function(t,e,n){var a,r,i=1/0,o=1/0;if(null==e&&null!=t){t=L(t)?t:k.values(t);for(var u=0,s=t.length;s>u;u++)a=t[u],i>a&&(i=a)}else e=_(e,n),k.each(t,function(t,n,a){r=e(t,n,a),(o>r||r===1/0&&i===1/0)&&(i=t,o=r)});return i},k.shuffle=function(t){for(var e,n=L(t)?t:k.values(t),a=n.length,r=Array(a),i=0;a>i;i++)e=k.random(0,i),e!==i&&(r[i]=r[e]),r[e]=n[i];return r},k.sample=function(t,e,n){return null==e||n?(L(t)||(t=k.values(t)),t[k.random(t.length-1)]):k.shuffle(t).slice(0,Math.max(0,e))},k.sortBy=function(t,e,n){return e=_(e,n),k.pluck(k.map(t,function(t,n,a){return{value:t,index:n,criteria:e(t,n,a)}}).sort(function(t,e){var n=t.criteria,a=e.criteria;if(n!==a){if(n>a||void 0===n)return 1;if(a>n||void 0===a)return-1}return t.index-e.index}),"value")};var C=function(t){return function(e,n,a){var r={};return n=_(n,a),k.each(e,function(a,i){var o=n(a,i,e);t(r,a,o)}),r}};k.groupBy=C(function(t,e,n){k.has(t,n)?t[n].push(e):t[n]=[e]}),k.indexBy=C(function(t,e,n){t[n]=e}),k.countBy=C(function(t,e,n){k.has(t,n)?t[n]++:t[n]=1}),k.toArray=function(t){return t?k.isArray(t)?h.call(t):L(t)?k.map(t,k.identity):k.values(t):[]},k.size=function(t){return null==t?0:L(t)?t.length:k.keys(t).length},k.partition=function(t,e,n){e=_(e,n);var a=[],r=[];return k.each(t,function(t,n,i){(e(t,n,i)?a:r).push(t)}),[a,r]},k.first=k.head=k.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:k.initial(t,t.length-e)},k.initial=function(t,e,n){return h.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},k.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:k.rest(t,Math.max(0,t.length-e))},k.rest=k.tail=k.drop=function(t,e,n){return h.call(t,null==e||n?1:e)},k.compact=function(t){return k.filter(t,k.identity)};var O=function Q(t,e,n,a){for(var r=[],i=0,o=a||0,u=M(t);u>o;o++){var s=t[o];if(L(s)&&(k.isArray(s)||k.isArguments(s))){e||(s=Q(s,e,n));var l=0,c=s.length;for(r.length+=c;c>l;)r[i++]=s[l++]}else n||(r[i++]=s)}return r};k.flatten=function(t,e){return O(t,e,!1)},k.without=function(t){return k.difference(t,h.call(arguments,1))},k.uniq=k.unique=function(t,e,n,a){k.isBoolean(e)||(a=n,n=e,e=!1),null!=n&&(n=_(n,a));for(var r=[],i=[],o=0,u=M(t);u>o;o++){var s=t[o],l=n?n(s,o,t):s;e?(o&&i===l||r.push(s),i=l):n?k.contains(i,l)||(i.push(l),r.push(s)):k.contains(r,s)||r.push(s)}return r},k.union=function(){return k.uniq(O(arguments,!0,!0))},k.intersection=function(t){for(var e=[],n=arguments.length,a=0,r=M(t);r>a;a++){var i=t[a];if(!k.contains(e,i)){for(var o=1;n>o&&k.contains(arguments[o],i);o++);o===n&&e.push(i)}}return e},k.difference=function(t){var e=O(arguments,!0,!0,1);return k.filter(t,function(t){return!k.contains(e,t)})},k.zip=function(){return k.unzip(arguments)},k.unzip=function(t){for(var e=t&&k.max(t,M).length||0,n=Array(e),a=0;e>a;a++)n[a]=k.pluck(t,a);return n},k.object=function(t,e){for(var n={},a=0,r=M(t);r>a;a++)e?n[t[a]]=e[a]:n[t[a][0]]=t[a][1];return n},k.findIndex=i(1),k.findLastIndex=i(-1),k.sortedIndex=function(t,e,n,a){n=_(n,a,1);for(var r=n(e),i=0,o=M(t);o>i;){var u=Math.floor((i+o)/2);n(t[u])<r?i=u+1:o=u}return i},k.indexOf=o(1,k.findIndex,k.sortedIndex),k.lastIndexOf=o(-1,k.findLastIndex),k.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var a=Math.max(Math.ceil((e-t)/n),0),r=Array(a),i=0;a>i;i++,t+=n)r[i]=t;return r};var T=function(t,e,n,a,r){if(!(a instanceof e))return t.apply(n,r);var i=w(t.prototype),o=t.apply(i,r);return k.isObject(o)?o:i};k.bind=function(t,e){if(y&&t.bind===y)return y.apply(t,h.call(arguments,1));if(!k.isFunction(t))throw new TypeError("Bind must be called on a function");var n=h.call(arguments,2),a=function r(){return T(t,r,e,this,n.concat(h.call(arguments)))};return a},k.partial=function(t){var e=h.call(arguments,1),n=function a(){for(var n=0,r=e.length,i=Array(r),o=0;r>o;o++)i[o]=e[o]===k?arguments[n++]:e[o];for(;n<arguments.length;)i.push(arguments[n++]);return T(t,a,this,this,i)};return n},k.bindAll=function(t){var e,n,a=arguments.length;if(1>=a)throw new Error("bindAll must be passed function names");for(e=1;a>e;e++)n=arguments[e],t[n]=k.bind(t[n],t);return t},k.memoize=function(t,e){var n=function a(n){var r=a.cache,i=""+(e?e.apply(this,arguments):n);return k.has(r,i)||(r[i]=t.apply(this,arguments)),r[i]};return n.cache={},n},k.delay=function(t,e){var n=h.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},k.defer=k.partial(k.delay,k,1),k.throttle=function(t,e,n){var a,r,i,o=null,u=0;n||(n={});var s=function(){u=n.leading===!1?0:k.now(),o=null,i=t.apply(a,r),o||(a=r=null)};return function(){var l=k.now();u||n.leading!==!1||(u=l);var c=e-(l-u);return a=this,r=arguments,0>=c||c>e?(o&&(clearTimeout(o),o=null),u=l,i=t.apply(a,r),o||(a=r=null)):o||n.trailing===!1||(o=setTimeout(s,c)),i}},k.debounce=function(t,e,n){var a,r,i,o,u,s=function l(){var s=k.now()-o;e>s&&s>=0?a=setTimeout(l,e-s):(a=null,n||(u=t.apply(i,r),a||(i=r=null)))};return function(){i=this,r=arguments,o=k.now();var l=n&&!a;return a||(a=setTimeout(s,e)),l&&(u=t.apply(i,r),i=r=null),u}},k.wrap=function(t,e){return k.partial(e,t)},k.negate=function(t){return function(){return!t.apply(this,arguments)}},k.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,a=t[e].apply(this,arguments);n--;)a=t[n].call(this,a);return a}},k.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},k.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},k.once=k.partial(k.before,2);var j=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];k.keys=function(t){if(!k.isObject(t))return[];if(m)return m(t);var e=[];for(var n in t)k.has(t,n)&&e.push(n);return j&&u(t,e),e},k.allKeys=function(t){if(!k.isObject(t))return[];var e=[];for(var n in t)e.push(n);return j&&u(t,e),e},k.values=function(t){for(var e=k.keys(t),n=e.length,a=Array(n),r=0;n>r;r++)a[r]=t[e[r]];return a},k.mapObject=function(t,e,n){e=_(e,n);for(var a,r=k.keys(t),i=r.length,o={},u=0;i>u;u++)a=r[u],o[a]=e(t[a],a,t);return o},k.pairs=function(t){for(var e=k.keys(t),n=e.length,a=Array(n),r=0;n>r;r++)a[r]=[e[r],t[e[r]]];return a},k.invert=function(t){for(var e={},n=k.keys(t),a=0,r=n.length;r>a;a++)e[t[n[a]]]=n[a];return e},k.functions=k.methods=function(t){var e=[];for(var n in t)k.isFunction(t[n])&&e.push(n);return e.sort()},k.extend=I(k.allKeys),k.extendOwn=k.assign=I(k.keys),k.findKey=function(t,e,n){e=_(e,n);for(var a,r=k.keys(t),i=0,o=r.length;o>i;i++)if(a=r[i],e(t[a],a,t))return a},k.pick=function(t,e,n){var a,r,i={},o=t;if(null==o)return i;k.isFunction(e)?(r=k.allKeys(o),a=x(e,n)):(r=O(arguments,!1,!1,1),a=function(t,e,n){return e in n},o=Object(o));for(var u=0,s=r.length;s>u;u++){var l=r[u],c=o[l];a(c,l,o)&&(i[l]=c)}return i},k.omit=function(t,e,n){if(k.isFunction(e))e=k.negate(e);else{var a=k.map(O(arguments,!1,!1,1),String);e=function(t,e){return!k.contains(a,e)}}return k.pick(t,e,n)},k.defaults=I(k.allKeys,!0),k.create=function(t,e){var n=w(t);return e&&k.extendOwn(n,e),n},k.clone=function(t){return k.isObject(t)?k.isArray(t)?t.slice():k.extend({},t):t},k.tap=function(t,e){return e(t),t},k.isMatch=function(t,e){var n=k.keys(e),a=n.length;if(null==t)return!a;for(var r=Object(t),i=0;a>i;i++){var o=n[i];if(e[o]!==r[o]||!(o in r))return!1}return!0};var E=function K(t,e,n,a){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof k&&(t=t._wrapped),e instanceof k&&(e=e._wrapped);var r=d.call(t);if(r!==d.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var i="[object Array]"===r;if(!i){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,u=e.constructor;if(o!==u&&!(k.isFunction(o)&&o instanceof o&&k.isFunction(u)&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],a=a||[];for(var s=n.length;s--;)if(n[s]===t)return a[s]===e;if(n.push(t),a.push(e),i){if(s=t.length,s!==e.length)return!1;for(;s--;)if(!K(t[s],e[s],n,a))return!1}else{var l,c=k.keys(t);if(s=c.length,k.keys(e).length!==s)return!1;for(;s--;)if(l=c[s],!k.has(e,l)||!K(t[l],e[l],n,a))return!1}return n.pop(),a.pop(),!0};k.isEqual=function(t,e){return E(t,e)},k.isEmpty=function(t){return null==t?!0:L(t)&&(k.isArray(t)||k.isString(t)||k.isArguments(t))?0===t.length:0===k.keys(t).length},k.isElement=function(t){return!(!t||1!==t.nodeType)},k.isArray=$||function(t){return"[object Array]"===d.call(t)},k.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},k.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){k["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}}),k.isArguments(arguments)||(k.isArguments=function(t){return k.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(k.isFunction=function(t){return"function"==typeof t||!1}),k.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},k.isNaN=function(t){return k.isNumber(t)&&t!==+t},k.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===d.call(t)},k.isNull=function(t){return null===t},k.isUndefined=function(t){return void 0===t},k.has=function(t,e){return null!=t&&v.call(t,e)},k.noConflict=function(){return s._=l,this},k.identity=function(t){return t},k.constant=function(t){return function(){return t}},k.noop=function(){},k.property=D,k.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},k.matcher=k.matches=function(t){return t=k.extendOwn({},t),function(e){return k.isMatch(e,t)}},k.times=function(t,e,n){var a=Array(Math.max(0,t));e=x(e,n,1);for(var r=0;t>r;r++)a[r]=e(r);return a},k.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},k.now=Date.now||function(){return(new Date).getTime()};var A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=k.invert(A),q=function(t){var e=function(e){return t[e]},n="(?:"+k.keys(t).join("|")+")",a=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,a.test(t)?t.replace(r,e):t}};k.escape=q(A),k.unescape=q(z),k.result=function(t,e,n){var a=null==t?void 0:t[e];return void 0===a&&(a=n),k.isFunction(a)?a.call(t):a};var R=0;k.uniqueId=function(t){var e=++R+"";return t?t+e:e},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\u2028|\u2029/g,G=function(t){return"\\"+V[t]};k.template=function(t,e,n){!e&&n&&(e=n),e=k.defaults({},e,k.templateSettings);var a=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),r=0,i="__p+='";t.replace(a,function(e,n,a,o,u){return i+=t.slice(r,u).replace(F,G),r=u+e.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":a?i+="'+\n((__t=("+a+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),e}),i+="';\n",e.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(e.variable||"obj","_",i)}catch(u){throw u.source=i,u}var s=function(t){return o.call(this,t,k)},l=e.variable||"obj";return s.source="function("+l+"){\n"+i+"}",s},k.chain=function(t){var e=k(t);return e._chain=!0,e};var B=function(t,e){return t._chain?k(e).chain():e};k.mixin=function(t){k.each(k.functions(t),function(e){var n=k[e]=t[e];k.prototype[e]=function(){var t=[this._wrapped];return f.apply(t,arguments),B(this,n.apply(k,t))}})},k.mixin(k),k.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=c[t];k.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],B(this,n)}}),k.each(["concat","join","slice"],function(t){var e=c[t];k.prototype[t]=function(){return B(this,e.apply(this._wrapped,arguments))}}),k.prototype.value=function(){return this._wrapped},k.prototype.valueOf=k.prototype.toJSON=k.prototype.value,k.prototype.toString=function(){return""+this._wrapped},a=[],r=function(){return k}.apply(e,a),!(void 0!==r&&(t.exports=r))}).call(void 0)}]);